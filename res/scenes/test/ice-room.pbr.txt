LookAt 3 4 1.5  # eye
       .5 .5 0  # look at point
       0 0 1    # up vector
Camera "perspective" "float fov" 45
Accelerator "bvh"
Sampler "halton" "integer pixelsamples" 128
Integrator "path"
Film "image" "string filename" "ice-room.png"
     "integer xresolution" [400] "integer yresolution" [400]

WorldBegin

# point lights inside the room
LightSource "point" "point from" [ -8 4 4 ] "rgb I" [ 300 300 300 ]

AttributeBegin
  Texture "myicekr" "spectrum" "icekr" "string mapping" "spherical"
  Material "ice" "texture Kd" "myicekr"
  Shape "sphere" "float radius" 1
AttributeEnd

# room cube mesh
AttributeBegin
Scale 16 16 16
Texture "ice" "spectrum" "imagemap" "string filename" "../../textures/ice-2.png"
MakeNamedMaterial "mymirror" "string type" "mirror" "spectrum Kr" [ 3 3 ]
MakeNamedMaterial "mymatte" "string type" "matte" "texture Kd" "ice"
Material "mix" "string namedmaterial1" "mymirror" "string namedmaterial2" "mymatte"
Shape "trianglemesh"
  "point3 P" [ 
	1 -1 1
	-1 -1 1
	-1 -1 -1
	-1 1 -1
	-1 1 1
	0.9999989867 1 1.000000954
	1 1 -0.9999989867
	0.9999989867 1 1.000000954
	1 -1 1
	0.9999989867 1 1.000000954
	-1 1 1
	-1 -1 1
	-1 -1 1
	-1 1 1
	-1 1 -1
	1 -1 -1
	-1 -1 -1
	-1 1 -1
	1 -1 -1
	1 1 -0.9999989867
	1 -1 -1
	1 -1 1
	-1 -1 -1
	1 1 -0.9999989867
]
  "normal N" [ 
	0 1 0
	0 1 0
	0 1 0
	0 -1 0
	0 -1 0
	0 -1 0
	-1 0 0
	-1 0 0
	-1 0 0
	-0 0 -1
	-0 0 -1
	-0 0 -1
	1 -0 -0
	1 -0 -0
	1 -0 -0
	0 0 1
	0 0 1
	0 0 1
	0 1 0
	0 -1 0
	-1 0 0
	-0 0 -1
	1 -0 -0
	0 0 1
]
  "point2 st" [ 
	1 0.3333329856
	1 0.6666669846
	0.6666669846 0.6666669846
	1 0.3333329856
	0.6666669846 0.3333329856
	0.6666669846 0
	0 0.3333329856
	0 0
	0.3333329856 0
	0.3333329856 0
	0.6666669846 0
	0.6666669846 0.3333329856
	0.3333329856 1
	0 1
	0 0.6666669846
	0.3333329856 0.3333329856
	0.3333329856 0.6666669846
	0 0.6666669846
	0.6666669846 0.3333329856
	1 0
	0.3333329856 0.3333329856
	0.3333329856 0.3333329856
	0.3333329856 0.6666669846
	0 0.3333329856
]
  "integer indices" [ 
	0 1 2
	3 4 5
	6 7 8
	9 10 11
	12 13 14
	15 16 17
	18 0 2
	19 3 5
	20 6 8
	21 9 11
	22 12 14
	23 15 17
	]

AttributeEnd

WorldEnd